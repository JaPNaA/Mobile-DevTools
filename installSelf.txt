!function(){function e(e,l){if("object"==typeof e)return e;var t;if("<"==e.substring(0,1)){var n=document.createElement("div");n.innerHTML=e,t=n.children}else t=this.isWindow?document.querySelectorAll(e):this.querySelectorAll(e);if(l){if(1==l||"first"==l||"element"==l)t=t[0];else if("last"==l)t=t[t.length-1];else if("all"==l||2==l||"array"==l)"#"==e.substring(0,1);else if(1==t.length)t=t[0];else if(0==t.length)t=null;else if(!(t.length<1))return t}else if(1==t.length)t=t[0];else if(0==t.length)t=null;else if(!(t.length<1))return t;return t&&t.length&&(t=[].slice.call(t)),t}Element.prototype.$=e,Window.prototype.isWindow=!0,window.$=e}();
function aConsole(e,o){var s,o,a=$("#cLog"),n="<div></div>",r=$("#ClogC"),i=function(){return 2!=o&&e&&"string"==typeof e?function(){var o=e.split("<"),s="";return o.forEach(function(e){s+=e+"&lt;"}),s.substring(0,s.length-4)}():e}();if("function"==typeof e&&(i=e.toString()),e&&e.outerHTML){var t=e.outerHTML.split("<"),o="";t.forEach(function(e){o+=e+"&lt;"}),i=o.substring(0,o.length-4)}switch(typeof e){case"string":1==o&&(i='"'+i+'"');break;case"number":i="<span class=__number>"+e+"</span>";break;case"boolean":i="<span class=__bool>"+e+"</span>";default:i=i}switch(o){case 0:n="<div class=_log> "+i+"</div>";break;case 1:n="<div class=_return> "+i+"</div>";break;case 2:n="<div class=_error> "+i+"</div>";break;case 3:n="<div class=_warn> "+i+"</div>";break;case 4:a.innerHTML="",n="<div class=_info> Console cleared</div>";break;case 5:n="<div class=_command> "+i+"</div>";break;default:n="<div class=_unknown> "+i+"</div>"}r.scrollHeight-r.scrollTop-r.clientHeight<1&&(s=!0),o=$(n),a.appendChild(o),s&&o.scrollIntoView()}function install(e){var o,s=window.frames[$("iframe").name],a=new XMLHttpRequest;a.open("GET",e),a.onreadystatechange=function(){clearTimeout(o),s.eval(a.responseText),o=setTimeout(function(){aConsole("Finished of failed installing")},1e3)},a.send()}function consoleTools(e){var o=e.toLowerCase().split(" "),s=window.frames[$("iframe").name];switch(o[0]){case"version":aConsole("Version 0.2 Beta");break;case"about":aConsole("(C) Copyright 2016, created by JaPNaA");break;case"help":aConsole("Learn JavaScript."),aConsole("Unless you want to know about these commands."),aConsole("~#version ~#about ~#help ~#clear ~#install ~#refresh ~#frame");break;case"install":if(o[1]){var s=window.frames[$("iframe").name];aConsole("Installing from: "+o[1]),s.eval(install(o[1]))}else aConsole("Syntax: ~#install [fileAdress].js/txt/com");break;case"clear":if(o[1])switch(o[1]){case"console":case"1":aConsole("",4);break;case"history":case"2":vars.consoleHistory=[]}else aConsole("Syntax: ~#clear [1-console/2-history]");break;case"refresh":s.location.reload(),vars.refreshed&&location.reload(),aConsole("Refreshed Frame, type again for full refresh"),vars.refreshed=2;break;case"debug":aConsole("Debug mode on."),aConsole("Debug closed. Nothing happend? Make sure DevTools is on");break;case"frame":vars.frame=!vars.frame,window.onresize(),aConsole(vars.frame?"Frame on":"Frame off");break;default:aConsole("Unknown Command",3)}}var vars={refreshed:!1,frame:!0,consoleHistory:[],consoleHistoryIx:-1};!function(){document.body.innerHTML="<iframe class=main name=main></iframe> <div id=console><div id=ClogC><div id=cLog></div></div><div id=cIn><textarea></textarea> </div></div>",onresize=function(){var e=$("iframe.main"),o=$("#ClogC");c=$("#console"),vars.frame?(e.width=innerWidth-302,e.height=innerHeight,o.style.height=innerHeight-83+"px",c.style.width="300px"):(e.width=0,e.height=innerHeight,o.style.height=innerHeight-83+"px",c.style.width=innerWidth+"px")},onresize()}(),function(){var e=window.frames[$("iframe").name],o={log:function(e){aConsole(e,0)},clear:function(){aConsole(0,4)}};e.console=o}(),function(){$("#console"),[$("#cLog"),$("#cIn")];$("textarea",1).addEventListener("keydown",function(e){if(13==e.keyCode&&!e.shiftKey){vars.consoleHistoryIx=-1;var o,s=window.frames[$("iframe").name];if(vars.consoleHistory[vars.consoleHistory.length-1]!=this.value&&vars.consoleHistory.unshift(this.value),"~#"!=this.value.substring(0,2)){try{aConsole(this.value,5),o=s.eval(this.value)}catch(a){aConsole(a,2)}finally{aConsole(o,1)}this.value="",e.preventDefault()}else aConsole(this.value,5),consoleTools(this.value.substring(2,this.value.length)),this.value="",e.preventDefault();vars.refreshed&&(vars.refreshed-=1)}(38==e.keyCode||40==e.keyCode)&&(38==e.keyCode&&vars.consoleHistoryIx<vars.consoleHistory.length-1&&(vars.consoleHistoryIx+=1),40==e.keyCode&&vars.consoleHistoryIx>0&&(vars.consoleHistoryIx-=1),this.value=vars.consoleHistory[vars.consoleHistoryIx])},!1)}(),function(){aConsole("Mobile DevTools, created by JaPNaA;"),aConsole("Type ~#help for help."),$("textarea",1).focus()}();
document.head.innerHTML='<style>@keyframes borderRainbow{0%{border-color:red}12.5%{border-color:#ffbf00}25%{border-color:#7fff00}37.5%{border-color:#00ff3f}50%{border-color:#00feff}62.5%{border-color:#003fff}75%{border-color:#7f00ff}87.5%{border-color:#ff00bf}100%{border-color:red}}iframe.main{border:0;display:block}body{margin:0;padding:0;border:0}#console{position:fixed;right:0;top:0;height:100%;width:300px;display:block;border-left:solid 2px #49b7fc;animation:borderRainbow 8s infinite forwards}#cIn{position:absolute;bottom:0;width:100%}#cIn>textarea{resize:none;width:100%;bottom:0;height:75px;position:absolute;outline:0;border:0;border-top:1px #49b7fc solid;padding:4px;margin:0}#ClogC{overflow-y:scroll}#cLog>._error{background-color:rgba(255,0,0,.1);color:#ad0000}#cLog>._command::before{content:"> ";color:darkgrey}#cLog>._return::before{content:"< ";color:grey}#cLog>div{padding-top:2px;padding-bottom:2px;padding-left:4px;font-family:Consolas;font-size:12px;white-space:pre-wrap}#cLog .__number{color:#00b}#cLog>._warn{background-color:rgba(255,230,0,.1);color:#9a9400}#cLog .__bool{color:#a0a}</style>';
